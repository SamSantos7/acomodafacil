"use strict";(()=>{var e={};e.id=386,e.ids=[386],e.modules={3524:e=>{e.exports=require("@prisma/client")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1282:e=>{e.exports=require("child_process")},4770:e=>{e.exports=require("crypto")},665:e=>{e.exports=require("dns")},7702:e=>{e.exports=require("events")},2048:e=>{e.exports=require("fs")},2615:e=>{e.exports=require("http")},8791:e=>{e.exports=require("https")},8216:e=>{e.exports=require("net")},9801:e=>{e.exports=require("os")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},2452:e=>{e.exports=require("tls")},7360:e=>{e.exports=require("url")},1764:e=>{e.exports=require("util")},1568:e=>{e.exports=require("zlib")},6521:(e,r,o)=>{o.r(r),o.d(r,{originalPathname:()=>f,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>x});var t={};o.r(t),o.d(t,{POST:()=>d});var s=o(9303),a=o(8716),n=o(670),i=o(7070),p=o(3524),c=o(5245);let u=new p.PrismaClient;async function d(e){try{let{name:r,email:o,phone:t,cityOfInterest:s,accommodationType:a,message:n}=await e.json();await u.contact.create({data:{name:r,email:o,phone:t,cityOfInterest:s,accommodationType:a,message:n}});let p=c.createTransport({host:process.env.SMTP_HOST,port:Number(process.env.SMTP_PORT),secure:!0,auth:{user:process.env.SMTP_USER,pass:process.env.SMTP_PASS}});return await p.sendMail({from:process.env.SMTP_FROM,to:process.env.ADMIN_EMAIL||"admin@acomodafacil.com",subject:"Nova mensagem de contato - AcomodaF\xe1cil",html:`
        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
          <h2 style="color: #333;">Nova mensagem de contato</h2>
          <p><strong>Nome:</strong> ${r}</p>
          <p><strong>E-mail:</strong> ${o}</p>
          <p><strong>Telefone:</strong> ${t||"N\xe3o informado"}</p>
          <p><strong>Cidade de interesse:</strong> ${s||"N\xe3o informada"}</p>
          <p><strong>Tipo de acomoda\xe7\xe3o:</strong> ${a||"N\xe3o informado"}</p>
          <p><strong>Mensagem:</strong></p>
          <div style="background-color: #f4f4f4; padding: 10px; margin: 10px 0;">
            ${n}
          </div>
        </div>
      `}),i.NextResponse.json({success:!0})}catch(e){return console.error("Contact form error:",e),i.NextResponse.json({error:"Erro ao processar formul\xe1rio de contato"},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/contact/route",pathname:"/api/contact",filename:"route",bundlePath:"app/api/contact/route"},resolvedPagePath:"c:\\Users\\samue\\Downloads\\acomodafacil-global-homes-740cc4e93a81954d529326e515feba7b3d6541ab\\acomodafacil\\src\\app\\api\\contact\\route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:m,staticGenerationAsyncStorage:x,serverHooks:g}=l,f="/api/contact/route";function v(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:x})}},9303:(e,r,o)=>{e.exports=o(517)}};var r=require("../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[948,70,245],()=>o(6521));module.exports=t})();